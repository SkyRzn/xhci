xhci_queue_isoc_tx_prepare
Подсчитываем нужное количество TRB для всех дескрипторов с помощью count_isoc_trbs_needed.
Подготавливаем кольцо эндопойнта с помощью prepare_ring:
  Делаем различные проверки в кольце конечной точки и делаем его готовым ставить в очередь num_trbs.
  Если кольцо полное, выделяем новые сегменты с помощью xhci_ring_expansion.
Запускаем xhci_queue_isoc_tx:
  Проходим по всем дескрипторам:
    Подготавливаем передачу prepare_transfer:
      Подготавливаем кольцо эндпойнта (потока эндпойнта) с помощью prepare_ring:
	Делаем различные проверки в кольце конечной точки и делаем его готовым ставить в очередь num_trbs.
	Если кольцо полное, выделяем новые сегменты с помощью xhci_ring_expansion.
      Инитим TD list соотв TD в urb_priv, добавляем его в конец TD list эндпойнта.
    Запоняем поля, общие для всех TRB.  
    Проходим по всем TRB дескриптора:
      Заполняем поля, специфичные для каждого TRB. (field |= TRB_ISP; вынести за цикл?)

prepare_ring
Делаем различные проверки в кольце конечной точки и делаем его готовым ставить в очередь num_trbs.
Если кольцо полное, выделяем новые сегменты с помощью xhci_ring_expansion.

